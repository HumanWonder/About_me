<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style/style.css">
    <script src="script/utils.js" defer></script>
    <script src="script/settings.js" defer></script>
    <script src="script/player.js" defer></script>
    <script src="script/ennemies.js" defer></script>
    <script src="script/collisions.js" defer></script>
    <script src="script/gameManager.js" defer></script>
    <title>Space Invaders</title>
</head>

<body
    style="background-image: url(ressources/baseResources/arcadeBG.jpg); background-repeat: no-repeat; background-size: cover; font-family:Pixel-Font; color: white;">
    <!-- Bouton de retour -->
    <button id="back-button">Back to Projects</button>
    <div class="title"></div>
    <div id="startMenu">
        <h2>Controls :</h2>
        <p>Arrows : Move Player</p>
        <p>Space : Shoot</p>
        <p>P : Pause</p>
        <p>R : Restart</p>
        <p>Enter : Start the game (Only on the start menu)</p>
        <button id="startButton" class="button">
            Start
        </button>
    </div>
    <div id="stopwatch">00:00:00</div>
    <div id="workspace">
        <div id="up-border" class="horizontal-b"></div>
        <div id="left-border" class="vertical-b"></div>
        <div id="right-border" class="vertical-b"></div>
        <div id="down-border" class="horizontal-b"></div>

        <div id="tilemap"></div>

        <div id="wrapperennemies">
            <!-- generate enemy here -->
        </div>
        <div id="player"></div>
    </div>
    <script>
        // Attendre que le DOM soit complètement chargé
        document.addEventListener("DOMContentLoaded", function () {
            console.log("DOM Loaded");
            // Récupérer le bouton 'startButton'
            const startButton = document.getElementById("startButton");

            // Ajouter l'événement click pour appeler gameStart quand le bouton est cliqué
            if (startButton) {
                console.log(startButton);
                startButton.addEventListener("click", () => {
                    if (typeof gameStart === "function") {
                        gameStart(); // Appelle la fonction seulement si elle est définie.
                    } else {
                        console.error("gameStart is not defined");
                    }
                });
            }
        });
        
        // Ajoute une redirection au bouton
        document.getElementById("back-button").addEventListener("click", () => {
            window.location.href = "/projects"; // Redirige vers /projects
        });
    </script>

</body>


</html>